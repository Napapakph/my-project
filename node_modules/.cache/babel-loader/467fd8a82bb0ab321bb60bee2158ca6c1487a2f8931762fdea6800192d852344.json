{"ast":null,"code":"import\"./App.css\";import Transection from\"./components/Transection\";import FormsComponent from\"./components/FormsComponent\";import{useState,useEffect}from\"react\";import DataContext from\"./data/DataContext\";import ReportComponent from\"./components/ReportComponent\";import{BrowserRouter as Router,Routes,Route,Link}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const initData=[{id:1,title:\"ค่าเช่าบ้าน\",amount:-2000},{id:2,title:\"เงินเดือน\",amount:12000},{id:3,title:\"ค่าเดินทาง\",amount:-500},{id:4,title:\"ขายของออนไลน์\",amount:2000}];const[items,setItem]=useState(initData);// ภายใน useState คือการอัพเดตค่าที่เป็นรูปแบบ Array เหมือน initData\nconst[reportIncome,setReportIncome]=useState(0);const[reportExpense,setReportExpense]=useState(0);const onAddNewItem=newItem=>{// newItem ไว้รับข้อมูลจาก FormComponent\nsetItem(prevItem=>{return[newItem,...prevItem];// รูปแบบคำสั่งที่ให้ค่าใหม่มาอยู่หน้าค่าเก่า\n});};useEffect(()=>{//filter() ใช้เพื่อ เลือกค่า ที่ตรงกับเงื่อนไขที่กำหนดจาก array และคืนค่า array ใหม่ ที่มีเฉพาะ ค่าที่ตรงกับเงื่อนไข.\n/*\n    reduce() ใช้สำหรับ ลดทอน หรือ รวม ค่าใน array ให้กลายเป็น ค่าเดียว. ทำงานโดยการใช้ callback function ที่รับ 2 พารามิเตอร์หลัก:\n              total: คือค่าที่สะสมจากการวนลูปครั้งก่อน (เริ่มต้นเป็นค่าเริ่มต้นที่ส่งเข้ามา).\n              element: คือค่าของ element ที่อยู่ใน array ในรอบปัจจุบัน.\n    */const amounts=items.map(items=>items.amount);// amount ถูกเก็บใน Array amounts\nconst income=amounts.filter(element=>element>0).reduce((total,element)=>total+=element,0);// income เป็น Array ที่เก็บข้อมูลรายได้ \nconst expense=amounts.filter(element=>element<0).reduce((total,element)=>total+=element,0)*-1;// expense เป็น Array ที่เก็บข้อมูลรายจ่าย\nsetReportIncome(income.toFixed(2));setReportExpense(expense.toFixed(2));},[items,reportIncome,reportExpense]);return/*#__PURE__*/_jsx(DataContext.Provider,{value:{income:reportIncome,expense:reportExpense},children:/*#__PURE__*/_jsxs(\"div\",{className:\"contrainer\",children:[/*#__PURE__*/_jsx(\"h1\",{style:{color:\"red\",textAlign:\"center\"},children:\"\\u0E41\\u0E2D\\u0E1E\\u0E23\\u0E32\\u0E22\\u0E23\\u0E31\\u0E1A - \\u0E23\\u0E32\\u0E22\\u0E08\\u0E48\\u0E32\\u0E22\"}),/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"horizontal-menu\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E1A\\u0E31\\u0E0D\\u0E0A\\u0E35\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/insert\",children:\"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\"})})]}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(ReportComponent,{})}),/*#__PURE__*/_jsx(Route,{path:\"/insert\",element:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FormsComponent,{onAddItem:onAddNewItem}),/*#__PURE__*/_jsx(Transection,{items:items}),\" \"]})})]})]})})]})});}export default App;","map":{"version":3,"names":["Transection","FormsComponent","useState","useEffect","DataContext","ReportComponent","BrowserRouter","Router","Routes","Route","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","initData","id","title","amount","items","setItem","reportIncome","setReportIncome","reportExpense","setReportExpense","onAddNewItem","newItem","prevItem","amounts","map","income","filter","element","reduce","total","expense","toFixed","Provider","value","children","className","style","color","textAlign","to","path","onAddItem"],"sources":["C:/Users/alice/OneDrive/Desktop/Prepare for Full Stack/my-project/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport Transection from \"./components/Transection\";\nimport FormsComponent from \"./components/FormsComponent\";\nimport { useState ,useEffect} from \"react\";\nimport DataContext from \"./data/DataContext\";\nimport ReportComponent from \"./components/ReportComponent\";\nimport { BrowserRouter as Router, Routes,Route,Link} from \"react-router-dom\";\n\nfunction App() {\n  const initData = [\n    { id: 1, title: \"ค่าเช่าบ้าน\", amount: -2000 },\n    { id: 2, title: \"เงินเดือน\", amount: 12000 },\n    { id: 3, title: \"ค่าเดินทาง\", amount: -500 },\n    { id: 4, title: \"ขายของออนไลน์\", amount: 2000 },\n  ];\n\n  const [items, setItem] = useState(initData); // ภายใน useState คือการอัพเดตค่าที่เป็นรูปแบบ Array เหมือน initData\n  const [reportIncome, setReportIncome] = useState(0);\n  const [reportExpense, setReportExpense] = useState(0);\n  const onAddNewItem = (newItem) => {\n    // newItem ไว้รับข้อมูลจาก FormComponent\n    setItem((prevItem) => {\n      return [newItem, ...prevItem]; // รูปแบบคำสั่งที่ให้ค่าใหม่มาอยู่หน้าค่าเก่า\n    });\n  };\n  useEffect(()=>{\n    //filter() ใช้เพื่อ เลือกค่า ที่ตรงกับเงื่อนไขที่กำหนดจาก array และคืนค่า array ใหม่ ที่มีเฉพาะ ค่าที่ตรงกับเงื่อนไข.\n    /*\n    reduce() ใช้สำหรับ ลดทอน หรือ รวม ค่าใน array ให้กลายเป็น ค่าเดียว. ทำงานโดยการใช้ callback function ที่รับ 2 พารามิเตอร์หลัก:\n              total: คือค่าที่สะสมจากการวนลูปครั้งก่อน (เริ่มต้นเป็นค่าเริ่มต้นที่ส่งเข้ามา).\n              element: คือค่าของ element ที่อยู่ใน array ในรอบปัจจุบัน.\n    */\n    const amounts = items.map(items=>items.amount) // amount ถูกเก็บใน Array amounts\n    const income = amounts.filter(element=>element>0).reduce((total,element)=>total+=element,0) // income เป็น Array ที่เก็บข้อมูลรายได้ \n    const expense = (amounts.filter(element=>element<0).reduce((total,element)=>total+=element,0))*-1 // expense เป็น Array ที่เก็บข้อมูลรายจ่าย\n    setReportIncome(income.toFixed(2))\n    setReportExpense(expense.toFixed(2))\n  },[items,reportIncome,reportExpense])\n\n\n return (\n  <DataContext.Provider\n      value={{\n        income: reportIncome,\n        expense: reportExpense,\n      }}\n    >\n      <div className=\"contrainer\">\n        <h1 style={{ color: \"red\", textAlign: \"center\" }}>\n          แอพรายรับ - รายจ่าย\n        </h1>\n        <Router>\n        <div>\n          <ul className=\"horizontal-menu\">\n            <li>\n                <Link to=\"/\">ข้อมูลบัญชี</Link>\n            </li>\n            <li>\n                <Link to=\"/insert\">บันทึกข้อมูล</Link>\n            </li>\n          </ul>\n          <Routes>\n              <Route path=\"/\" element={<ReportComponent />} ></Route>\n              <Route path=\"/insert\" element={\n                <>\n                <FormsComponent onAddItem={onAddNewItem} />\n                <Transection items={items} /> {/* การ prop ข้อมูลส่งไปให้ Transection*/} \n                </>\n              }></Route>\n          </Routes>\n        </div>\n        </Router>\n      \n      </div>\n  </DataContext.Provider>\n     \n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,WAAW,CAClB,MAAO,CAAAA,WAAW,KAAM,0BAA0B,CAClD,MAAO,CAAAC,cAAc,KAAM,6BAA6B,CACxD,OAASC,QAAQ,CAAEC,SAAS,KAAO,OAAO,CAC1C,MAAO,CAAAC,WAAW,KAAM,oBAAoB,CAC5C,MAAO,CAAAC,eAAe,KAAM,8BAA8B,CAC1D,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,MAAM,CAACC,KAAK,CAACC,IAAI,KAAO,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE7E,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAAAC,QAAQ,CAAG,CACf,CAAEC,EAAE,CAAE,CAAC,CAAEC,KAAK,CAAE,aAAa,CAAEC,MAAM,CAAE,CAAC,IAAK,CAAC,CAC9C,CAAEF,EAAE,CAAE,CAAC,CAAEC,KAAK,CAAE,WAAW,CAAEC,MAAM,CAAE,KAAM,CAAC,CAC5C,CAAEF,EAAE,CAAE,CAAC,CAAEC,KAAK,CAAE,YAAY,CAAEC,MAAM,CAAE,CAAC,GAAI,CAAC,CAC5C,CAAEF,EAAE,CAAE,CAAC,CAAEC,KAAK,CAAE,eAAe,CAAEC,MAAM,CAAE,IAAK,CAAC,CAChD,CAED,KAAM,CAACC,KAAK,CAAEC,OAAO,CAAC,CAAGrB,QAAQ,CAACgB,QAAQ,CAAC,CAAE;AAC7C,KAAM,CAACM,YAAY,CAAEC,eAAe,CAAC,CAAGvB,QAAQ,CAAC,CAAC,CAAC,CACnD,KAAM,CAACwB,aAAa,CAAEC,gBAAgB,CAAC,CAAGzB,QAAQ,CAAC,CAAC,CAAC,CACrD,KAAM,CAAA0B,YAAY,CAAIC,OAAO,EAAK,CAChC;AACAN,OAAO,CAAEO,QAAQ,EAAK,CACpB,MAAO,CAACD,OAAO,CAAE,GAAGC,QAAQ,CAAC,CAAE;AACjC,CAAC,CAAC,CACJ,CAAC,CACD3B,SAAS,CAAC,IAAI,CACZ;AACA;AACJ;AACA;AACA;AACA,MACI,KAAM,CAAA4B,OAAO,CAAGT,KAAK,CAACU,GAAG,CAACV,KAAK,EAAEA,KAAK,CAACD,MAAM,CAAC,CAAC;AAC/C,KAAM,CAAAY,MAAM,CAAGF,OAAO,CAACG,MAAM,CAACC,OAAO,EAAEA,OAAO,CAAC,CAAC,CAAC,CAACC,MAAM,CAAC,CAACC,KAAK,CAACF,OAAO,GAAGE,KAAK,EAAEF,OAAO,CAAC,CAAC,CAAC,CAAC;AAC5F,KAAM,CAAAG,OAAO,CAAIP,OAAO,CAACG,MAAM,CAACC,OAAO,EAAEA,OAAO,CAAC,CAAC,CAAC,CAACC,MAAM,CAAC,CAACC,KAAK,CAACF,OAAO,GAAGE,KAAK,EAAEF,OAAO,CAAC,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC;AAClGV,eAAe,CAACQ,MAAM,CAACM,OAAO,CAAC,CAAC,CAAC,CAAC,CAClCZ,gBAAgB,CAACW,OAAO,CAACC,OAAO,CAAC,CAAC,CAAC,CAAC,CACtC,CAAC,CAAC,CAACjB,KAAK,CAACE,YAAY,CAACE,aAAa,CAAC,CAAC,CAGtC,mBACCd,IAAA,CAACR,WAAW,CAACoC,QAAQ,EACjBC,KAAK,CAAE,CACLR,MAAM,CAAET,YAAY,CACpBc,OAAO,CAAEZ,aACX,CAAE,CAAAgB,QAAA,cAEF5B,KAAA,QAAK6B,SAAS,CAAC,YAAY,CAAAD,QAAA,eACzB9B,IAAA,OAAIgC,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAK,CAAEC,SAAS,CAAE,QAAS,CAAE,CAAAJ,QAAA,CAAC,qGAElD,CAAI,CAAC,cACL9B,IAAA,CAACL,MAAM,EAAAmC,QAAA,cACP5B,KAAA,QAAA4B,QAAA,eACE5B,KAAA,OAAI6B,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAC7B9B,IAAA,OAAA8B,QAAA,cACI9B,IAAA,CAACF,IAAI,EAACqC,EAAE,CAAC,GAAG,CAAAL,QAAA,CAAC,oEAAW,CAAM,CAAC,CAC/B,CAAC,cACL9B,IAAA,OAAA8B,QAAA,cACI9B,IAAA,CAACF,IAAI,EAACqC,EAAE,CAAC,SAAS,CAAAL,QAAA,CAAC,0EAAY,CAAM,CAAC,CACtC,CAAC,EACH,CAAC,cACL5B,KAAA,CAACN,MAAM,EAAAkC,QAAA,eACH9B,IAAA,CAACH,KAAK,EAACuC,IAAI,CAAC,GAAG,CAACb,OAAO,cAAEvB,IAAA,CAACP,eAAe,GAAE,CAAE,CAAS,CAAC,cACvDO,IAAA,CAACH,KAAK,EAACuC,IAAI,CAAC,SAAS,CAACb,OAAO,cAC3BrB,KAAA,CAAAE,SAAA,EAAA0B,QAAA,eACA9B,IAAA,CAACX,cAAc,EAACgD,SAAS,CAAErB,YAAa,CAAE,CAAC,cAC3ChB,IAAA,CAACZ,WAAW,EAACsB,KAAK,CAAEA,KAAM,CAAE,CAAC,IAAC,EAC5B,CACH,CAAQ,CAAC,EACN,CAAC,EACN,CAAC,CACE,CAAC,EAEN,CAAC,CACY,CAAC,CAGzB,CAEA,cAAe,CAAAL,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}